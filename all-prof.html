<!doctype html>
<html lang="en">
	
	<head>
		
		<title>Mevan</title>
		
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">    

		<link rel="icon" href="./img/favicon.ico">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="./css/main.css">
		

	</head>
		
	<body>

		<nav class="navbar navbar-expand-sm navbar-light bg-light">
			<div class="container">	
				<a class="navbar-brand order-1" href="./home.html"><img src="./img/logo/logosn.png" class="img-fluid" alt="Maven"></a>
				<button class="btn btn-primary btn-sm my-2 my-sm-0 shadow-none order-2 order-md-3" onClick="login(event);" id="signInBtn">Google SignIn</button>
				<button class="btn btn-primary btn-sm my-2 my-sm-0 shadow-none order-2 order-md-3 d-none" onClick="logout(event);" id="signOutBtn">Logout</button>				
				<div class="collapse navbar-collapse order-3 order-md-2" id="collapsibleNavId">
					<ul class="navbar-nav ml-auto mt-2 mt-lg-0 mr-0 mr-lg-4">
						<li class="nav-item">
							<a class="nav-link" href="./home.html"><i class="fa fa-home" aria-hidden="true"></i> Dashboard</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-book" aria-hidden="true"></i> Courses</a>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="./courses.html">All Courses</a>
								<a class="dropdown-item" href="./my-courses.html">Ongoing</a>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="./all-prof.html"><i class="fa fa-user-secret" aria-hidden="true"></i> Professors</a>
						</li>
					</ul>
				</div>

				<button class="navbar-toggler d-lg-none border-0 shadow-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon border-0 shadow-none"></span>
				</button>
			</div>
		</nav>

		<div id="loader" class="bg-dark d-none" style="position: absolute; top: 0; bottom: 0; right: 0; left: 0; z-index: 9">
			<div style="position: absolute; top: 50%; left: 50%; transform: translateX(-50%) translateY(-50%);">
				<i class="fas fa-cog display-3 text-white rotateIn infinite animated" aria-hidden="true"></i>
			</div>
		</div>

		<div class="container">
			<div class="row mt-3" id="populateRow"></div>
		</div>

		<div class="modal fade" id="modalPorf" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
				<div class="modal-content">
		    		<div class="modal-body">
						<button type="button" class="close shadow-none" style="position: absolute; top: 10px; right: 20px" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
		        		</button>
		        		
		        		<div class="row">
		        			<div class="col-12 col-md-6">
		        				<img src="" class="img-fluid w-100" id="profImg">
		        			</div>
		        			<div class="col-12 col-md-6">
		        				<div class="row mt-5">
			        				<div class="col">
			        					<h4 class="my-2 text-info" id="profName"></h4>
			        				</div>
			        				<div class="col-auto align-items-center d-flex">
			        					<h4 class="text-secondary small font-weight-light m-0" id="profDes"></h4>
			        				</div>
		        				</div>
		        				<p class="text-dark mb-1">Email: <span class="text-secondary" id="profEmail"></span></p>
		        				<p class="text-dark mb-1">Phone: <span class="text-secondary" id="profPhone"></span></p>
		        				<p class="text-dark mb-1">Office: <span class="text-secondary" id="profOffice"></span></p>
		        				<p class="text-dark mb-1">Education: <span class="text-secondary" id="profEdu"></span></p>
		        				<p class="text-dark mb-1">Interests: <span class="text-secondary" id="profInt"></span></p>
		        			</div>
		        		</div>

		        		<div class="row mt-3">
		        			<div class="col-12">
		        				<h4 class="text-dark">Comments</h4>

		        				<ul class="list-group" id="profComments">
								  
								</ul>

		        			</div>
		        		</div>

		      		</div>
		    	</div>
		  	</div>
		</div>

		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://kit.fontawesome.com/62166acfbe.js"></script>
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>	
		<script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/6.1.0/firebase-firestore.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">

		<script src="./js/app.js"></script>
		<script src="./js/prof.js"></script>
		
		<script type="text/javascript">
			var curUser = null;
			firebase.auth().onAuthStateChanged(function (user) {
				if (user) {
					curUser = user;
					$('#signInBtn').addClass('d-none');
					$('#signOutBtn').removeClass('d-none');
					populateData(user);
				} 
				else {
					setTimeout(() => {
						if(!curUser) {
							document.location.href = "./index.html";
						}
					}, 3000);
				}
			});
		</script>
	</body>

</html>